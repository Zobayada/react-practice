var j=Object.create;var $=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var F=e=>$(e,"__esModule",{value:!0});var H=(e,t)=>{F(e);for(var o in t)$(e,o,{get:t[o],enumerable:!0})},J=(e,t,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of N(t))!V.call(e,r)&&r!=="default"&&$(e,r,{get:()=>t[r],enumerable:!(o=z(t,r))||o.enumerable});return e},T=e=>J(F($(e!=null?j(O(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);H(exports,{CountdownCircleTimer:()=>A,useCountdown:()=>k});var w=T(require("react"));var q=T(require("react"));var d=T(require("react")),P=T(require("react")),W=typeof window=="undefined"?P.useEffect:P.useLayoutEffect,D=({isPlaying:e,duration:t,startAt:o=0,updateInterval:r=0,onComplete:s,onUpdate:n})=>{let[i,m]=(0,d.useState)(o),l=(0,d.useRef)(0),p=(0,d.useRef)(o),f=(0,d.useRef)(o*-1e3),u=(0,d.useRef)(null),c=(0,d.useRef)(null),b=(0,d.useRef)(null),y=h=>{let a=h/1e3;if(c.current===null){c.current=a,u.current=requestAnimationFrame(y);return}let S=a-c.current,C=l.current+S;c.current=a,l.current=C;let x=p.current+(r===0?C:(C/r|0)*r),U=p.current+C,G=typeof t=="number"&&U>=t;m(G?t:x),G||(u.current=requestAnimationFrame(y))},g=()=>{u.current&&cancelAnimationFrame(u.current),b.current&&clearTimeout(b.current),c.current=null},R=(0,d.useCallback)(h=>{g(),l.current=0;let a=typeof h=="number"?h:o;p.current=a,m(a),e&&(u.current=requestAnimationFrame(y))},[e,o]);return W(()=>{if(n==null||n(i),t&&i>=t){f.current+=t*1e3;let{shouldRepeat:h=!1,delay:a=0,newStartAt:S}=(s==null?void 0:s(f.current/1e3))||{};h&&(b.current=setTimeout(()=>R(S),a*1e3))}},[i,t]),W(()=>(e&&(u.current=requestAnimationFrame(y)),g),[e,t,r]),{elapsedTime:i,reset:R}};var E=(e,t,o)=>{let r=e/2,s=t/2,n=r-s,i=2*n,m=o==="clockwise"?"1,0":"0,1",l=2*Math.PI*n;return{path:`m ${r},${s} a ${n},${n} 0 ${m} 0,${i} a ${n},${n} 0 ${m} 0,-${i}`,pathLength:l}},B=(e,t)=>e===0||e===t?0:typeof t=="number"?e-t:0,v=e=>({position:"relative",width:e,height:e}),I={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"};var M=(e,t,o,r)=>{if(r===0)return t;let s=e/r;return t+o*s},L=e=>{var t,o;return(o=(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(r,s,n,i)=>`#${s}${s}${n}${n}${i}${i}`).substring(1).match(/.{2}/g))==null?void 0:t.map(r=>parseInt(r,16)))!=null?o:[]},K=(e,t)=>{var f;let{colors:o,colorsTime:r,isSmoothColorTransition:s=!0}=e;if(typeof o=="string")return o;let n=(f=r==null?void 0:r.findIndex((u,c)=>u>=t&&t>=r[c+1]))!=null?f:-1;if(!r||n===-1)return o[0];if(!s)return o[n];let i=r[n]-t,m=r[n]-r[n+1],l=L(o[n]),p=L(o[n+1]);return`rgb(${l.map((u,c)=>M(i,u,p[c]-u,m)|0).join(",")})`},k=e=>{let{duration:t,initialRemainingTime:o,updateInterval:r,size:s=180,strokeWidth:n=12,trailStrokeWidth:i,isPlaying:m=!1,rotation:l="clockwise",onComplete:p,onUpdate:f}=e,u=(0,q.useRef)(),c=Math.max(n,i!=null?i:0),{path:b,pathLength:y}=E(s,c,l),{elapsedTime:g}=D({isPlaying:m,duration:t,startAt:B(t,o),updateInterval:r,onUpdate:typeof f=="function"?h=>{let a=Math.ceil(t-h);a!==u.current&&(u.current=a,f(a))}:void 0,onComplete:typeof p=="function"?h=>{var x;let{shouldRepeat:a,delay:S,newInitialRemainingTime:C}=(x=p(h))!=null?x:{};if(a)return{shouldRepeat:a,delay:S,newStartAt:B(t,C)}}:void 0}),R=t-g;return{elapsedTime:g,path:b,pathLength:y,remainingTime:Math.ceil(R),rotation:l,size:s,stroke:K(e,R),strokeDashoffset:M(g,0,y,t),strokeWidth:n}};var A=e=>{let{children:t,strokeLinecap:o,trailColor:r,trailStrokeWidth:s}=e,{path:n,pathLength:i,stroke:m,strokeDashoffset:l,remainingTime:p,elapsedTime:f,size:u,strokeWidth:c}=k(e);return w.default.createElement("div",{style:v(u)},w.default.createElement("svg",{width:u,height:u,xmlns:"http://www.w3.org/2000/svg"},w.default.createElement("path",{d:n,fill:"none",stroke:r!=null?r:"#d9d9d9",strokeWidth:s!=null?s:c}),w.default.createElement("path",{d:n,fill:"none",stroke:m,strokeLinecap:o!=null?o:"round",strokeWidth:c,strokeDasharray:i,strokeDashoffset:l})),typeof t=="function"&&w.default.createElement("div",{style:I},t({remainingTime:p,elapsedTime:f,color:m})))};A.displayName="CountdownCircleTimer";
